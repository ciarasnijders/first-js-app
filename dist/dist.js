let pokemonRepository=function(){let e=[],t="https://pokeapi.co/api/v2/pokemon/?limit=20";function n(t){"object"==typeof t&&JSON.stringify(Object.keys(t))===JSON.stringify(["name","detailsUrl"])&&e.push(t)}function o(e){const t=document.querySelector("#pokemon-list"),n=e.map(e=>`<button class="list-group-item list-group-item-action pokemon-buttons" id=${e.name} type="button" data-toggle="modal" data-target="#Modal">${e.name}</button>`);t.innerHTML=n.join(""),e.forEach(e=>{!function(e,t){e.addEventListener("click",function(){i(t)})}(document.querySelector(`#${e.name}`),e)})}function i(t){r(t).then(function(){!function(t,n,o){document.querySelector("#ModalTitle").innerText=t,document.querySelector("#pokemon-height").innerText=`height: ${n}`,document.querySelector("#pokemon-img").src=o;let r=document.querySelector("#modal-container");window.matchMedia("(max-width: 500px)").matches&&r.addEventListener("pointermove",()=>{const n=e.find(e=>e.name===t);let o=e.indexOf(n);o+1===e.length&&(o=-1);const r=e[o+1];i(r)})}(t.name,t.height,t.imageUrl)})}function r(e){c();let t=e.detailsUrl;return fetch(t).then(function(e){return e.json()}).then(function(t){a(),e.imageUrl=t.sprites.front_default,e.height=t.height,e.types=t.types}).catch(function(e){a(),console.error(e)})}function c(){document.querySelector(".loading-message-container").innerText="Loading ..."}function a(){document.querySelector(".loading-message-container").innerText=""}return document.getElementById("searchBar").addEventListener("keyup",t=>{const n=t.target.value.toLowerCase();o(e.filter(e=>e.name.toLowerCase().includes(n)))}),{getAll:function(){return e},add:n,findByName:function(t){return e.filter(function(e){return e.name===t})},loadList:function(){return c(),fetch(t).then(e=>e.json()).then(function(e){a(),e.results.forEach(function(e){n({name:e.name,detailsUrl:e.url})})}).catch(function(e){a(),console.error(e)})},loadDetails:r,displayPokemonsList:o}}();function pokemonLoopFunction(){pokemonRepository.loadList().then(()=>{const e=pokemonRepository.getAll();pokemonRepository.displayPokemonsList(e)})}pokemonLoopFunction();